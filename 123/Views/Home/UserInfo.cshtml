 @{
    ViewBag.Title = "User Info";
}
    <link rel="stylesheet"  href="/css/userInfo.css" />

<!-- Thêm CSS Flatpickr -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

<!-- Thêm JS Flatpickr -->
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

    <div class="container2">
        <div class="profile-header">
            <h1>Tài Khoản Của Tôi</h1>
            <p>Quản lý thông tin tài khoản của bạn</p>
        </div>

        <div class="profile-content">
            <div class="profile-info">
                <div class="form-group">
                    <label>Tên tài khoản</label>
                    <input type="text" value="Tên tài khoản" readonly>
                </div>
                <div class="form-group">
                    <label>Họ và tên</label>
                    <input type="text" placeholder="Nhập họ và tên">
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" placeholder="Nhập email">
                </div>
                <div class="form-group">
                    <label>Số điện thoại</label>
                    <input type="tel" placeholder="Nhập số điện thoại">
                </div>
                <div class="form-group">
    <label>Giới tính</label>
    <select>
        <option value="nam">Nam</option>
        <option value="nu">Nữ</option>
        <option value="khac">Khác</option>
    </select>
</div>

                <div class="form-group">
                    <label>Ngày sinh</label>
                    <input type="date">
                </div>
                <div class="form-group">
    <label>Thành phố</label>
    <select id="city-select">
        <option value="">Chọn thành phố</option>
    </select>
</div>

<div class="form-group">
    <label>Quận/Huyện</label>
    <select id="district-select">
        <option value="">Chọn quận/huyện</option>
    </select>
</div>

<div class="form-group">
    <label>Xã/Phường</label>
    <select id="ward-select">
        <option value="">Chọn xã/phường</option>
    </select>
</div>

                <div class="action-buttons">
                        <button class="btn btn-warning">Cập nhật thông tin</button>

                    <button class="btn btn-primary">Đổi mật khẩu</button>
                    <button class="btn btn-danger">Xoá tài khoản</button>
                </div>
            </div>

            <div class="profile-image">
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23ccc' d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z'/%3E%3C/svg%3E" alt="Ảnh đại diện" id="preview">
                <input type="file" id="avatar" accept="image/*" style="display: none;">
                <button class="btn btn-primary" onclick="document.getElementById('avatar').click()">Chọn ảnh đại diện</button>
            </div>
        </div>
    </div>
<script>
// Lấy danh sách Thành phố
fetch('https://provinces.open-api.vn/api/p/')
    .then(response => response.json())
    .then(cities => {
        const citySelect = document.getElementById('city-select');
        cities.forEach(city => {
            const option = document.createElement('option');
            option.value = city.code;
            option.textContent = city.name;
            citySelect.appendChild(option);
        });
    });

// Khi chọn thành phố, lấy danh sách Huyện
document.getElementById('city-select').addEventListener('change', function() {
    const cityCode = this.value;
    const districtSelect = document.getElementById('district-select');
    const wardSelect = document.getElementById('ward-select');
    
    // Reset quận/huyện và xã/phường
    districtSelect.innerHTML = '<option value="">Chọn quận/huyện</option>';
    wardSelect.innerHTML = '<option value="">Chọn xã/phường</option>';

    if (cityCode) {
        fetch(`https://provinces.open-api.vn/api/p/${cityCode}?depth=2`)
            .then(response => response.json())
            .then(cityData => {
                cityData.districts.forEach(district => {
                    const option = document.createElement('option');
                    option.value = district.code;
                    option.textContent = district.name;
                    districtSelect.appendChild(option);
                });
            });
    }
});

// Khi chọn quận/huyện, lấy danh sách Xã/Phường
document.getElementById('district-select').addEventListener('change', function() {
    const districtCode = this.value;
    const wardSelect = document.getElementById('ward-select');
    
    // Reset xã/phường
    wardSelect.innerHTML = '<option value="">Chọn xã/phường</option>';

    if (districtCode) {
        fetch(`https://provinces.open-api.vn/api/d/${districtCode}?depth=2`)
            .then(response => response.json())
            .then(districtData => {
                districtData.wards.forEach(ward => {
                    const option = document.createElement('option');
                    option.value = ward.code;
                    option.textContent = ward.name;
                    wardSelect.appendChild(option);
                });
            });
    }
});
    </script>
    <script>
        document.getElementById('avatar').addEventListener('change', function(e) {
            if (e.target.files && e.target.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('preview').src = e.target.result;
                }
                reader.readAsDataURL(e.target.files[0]);
            }
        });
    </script>

